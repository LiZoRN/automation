{{extend 'layout.html'}}

{{=a}}
<html>
  <head>
    <style type="text/css">
        #editor-render-0 {
          width: 340px;
          height: 220px;
          margin: 24px auto;
        }
    </style>
  </head>
  <body>
    <div id="editor-render-0"></div>
    <!--[if IE]>
    <script type="text/javascript" src="/static/lib/FlashCanvas/bin/flashcanvas.js"></script>
    <![endif]-->
    <script type="text/javascript" src={{=URL('static','js/flotr2.min.js')}}></script>
    <script type="text/javascript">
     var aaa= "{{=a.keys()}}";
     console.log(aaa)
     $(function () {
        (function basic_timeline(container) {
          var
            d1        = [[1, 4, 5]],
            d2        = [[3.2, 3, 4]],
            d3        = [[1.9, 2, 2], [5, 2, 3.3]],
            d4        = [[1.55, 1, 9]],
            d5        = [[5, 0, 2.3]],
            data      = [],
            timeline  = { show : true, barWidth : .5 },
            markers   = [],
            labels    = ['sw1', 'sw2', 'sw3', 'sw4', 'sw5'],
            i, graph, point;

          // Timeline
          Flotr._.each([d1, d2, d3, d4, d5], function (d) {
            data.push({
              data : d,
            });
          });

          // Markers
          Flotr._.each([d1, d2, d3, d4, d5], function (d) {
            point = d[0];
            markers.push([point[0], point[1]]);
          });
          data.push({
            data: markers,
            markers: {
              show: true,
              position: 'rm',
              fontSize: 11,
              labelFormatter : function (o) { return labels[o.index]; }
            }
          });

          // Draw Graph
          graph = Flotr.draw(container, data, {
            xaxis: {
              noTicks: 3,
              tickFormatter: function (x) {
                var
                  x = parseInt(x),
                  months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                return months[(x-1)%12];
              }
            },
            yaxis: {
              showLabels : false
            },
            grid: {
              horizontalLines : false
            }
          });
        })(document.getElementById("editor-render-0"));
    });
    </script>

  <jquery>
      var bbb = ajax('{{=URL('report', 'test_a')}}', ['{{=a}}'], 'suggestions')}});

  </jquery>>
  </body>
</html>